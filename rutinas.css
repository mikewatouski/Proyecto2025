/* ========== PALETA CÁLIDA (negro + rojos/naranjas) ========== */
:root{
  --bg:#000000;              /* fondo negro */
  --panel:#0f0f10;           /* panel oscuro cálido */
  --panel-2:#0a0a0b;         /* sidebar / topbar oscuro */
  --text:#ffffff;            /* texto principal */
  --muted:#dcdcdc;           /* texto suave */
  --line:rgba(255,255,255,.08);

  /* pills y controles */
  --pill:#2a2320;            /* chip apagado (tinte cálido) */
  --pill-text:#f0e7e3;
  --pill-hover:brightness(1.06);

  /* acentos cálidos (gradiente principal) */
  --g1:#FA4300;              /* rojo-naranja */
  --g2:#FA6C06;              /* naranja vivo */
  --g3:#D7AA18;              /* dorado */

  --shadow:0 16px 48px rgba(0,0,0,.45);
}

/* ===== Base ===== */
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Arial}

/* Layout general */
.app{min-height:100vh;display:flex;gap:16px}
.main{flex:1;padding:24px}
.mode{display:none}
.mode.visible{display:block}

/* ===== Sidebar “puntos” ===== */
.sidebar{
  width:46px;padding:16px 10px;background:var(--panel-2);
  display:flex;flex-direction:column;gap:14px;align-items:center;
  border-right:1px solid var(--line)
}
.dot{
  width:14px;height:14px;border-radius:50%;
  background:linear-gradient(180deg,#3a2925,#151312);
  border:1px solid #3b2b27;box-shadow:inset 0 1px 2px rgba(255,255,255,.05)
}

/* ===== Topbar y toggle ===== */
/* HEADER centrado perfecto: [vacío | toggle | perfil] */
.topbar{
  display:grid;
  grid-template-columns: 1fr auto 1fr; /* 3 columnas */
  align-items:center;
  gap:16px;
}
.topbar .toggle{
  grid-column:2;            /* queda EXACTAMENTE al centro */
  justify-self:center;
  margin:0;                 /* override si antes tenía margin:0 auto */
}
.topbar .badge{
  grid-column:3;            /* a la derecha */
  justify-self:end;
  margin:0;                 /* override de cualquier margin-left:auto previo */
}



.badge{color:#f1e6db;opacity:.85}

.toggle{
  display:flex;gap:10px;background:var(--panel-2);padding:6px;border-radius:999px;
  border:1px solid var(--line)
}
.pill{
  padding:10px 18px;border-radius:999px;background:transparent;border:0;
  color:var(--pill-text);font-weight:800;letter-spacing:.2px;cursor:pointer;
  transition:transform .04s ease,filter .2s ease
}
.pill:hover{filter:var(--pill-hover)}
.pill:active{transform:translateY(1px)}
.pill.active{
  background:linear-gradient(90deg,var(--g1),var(--g2),var(--g3));
  color:#fff;box-shadow:0 10px 26px rgba(250,108,6,.35)
}

/* ===== Divisor ===== */
.divider{border:0;border-top:1px solid var(--line);margin:18px 0 24px}

/* ===== Cards y grid ===== */
.card{
  background:var(--panel);border:1px solid var(--line);
  border-radius:16px;box-shadow:var(--shadow);padding:16px
}
/* más aire entre secciones */
.title-card{ margin-bottom:10px; padding: 1px; }    
.title-card h3{
  text-align:center;
  width:100%;
}
      /* debajo de "Ejercicio: …" */
.grid-2{ gap:10px; }                         /* más gap entre izquierda/derecha */
                       /* compensa el padding extra */


/* 2 columnas */
.grid-2{display:grid;grid-template-columns:1.2fr .8fr;gap:24px}

/* ===== Viewer (izquierda) ===== */
.viewer{
  display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:14px;
  background:#0b0a0a;border:1px solid var(--line);border-radius:12px;padding:16px
}
.nav-arrow{
  appearance:none;border:1px solid var(--line);background:rgba(255,255,255,.07);
  color:#ffe9de;width:40px;height:40px;border-radius:10px;display:grid;place-items:center;
  cursor:pointer;transition:filter .2s ease,transform .05s ease
}
.nav-arrow:hover{filter:brightness(1.12)}
.nav-arrow:active{transform:translateY(1px)}

.canvas{
  position:relative;overflow:hidden;border-radius:16px;height:220px;
  background:
    radial-gradient(120% 120% at 80% 30%, rgba(255,255,255,.05), transparent 55%),
    radial-gradient(110% 160% at 15% 115%, rgba(215,170,24,.22), transparent 58%),
    linear-gradient(145deg, rgba(250,67,0,.32), rgba(250,108,6,.28));
  border:1px solid var(--line)
}
/* === Viewer optimizado: imagen sin recortes === */
.canvas{
  position:relative;
  overflow:hidden;
  border-radius:16px;
  height:220px;               /* alto del área de vista */
  display:flex;               /* centrado perfecto */
  align-items:center;
  justify-content:center;
  background:#0b0a0a;         /* fondo neutro detrás de la imagen */
  border:1px solid var(--line);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.02);
}
.canvas img{
  max-width:100%;
  max-height:100%;
  width:auto;                 /* ! importante para que no se estire */
  height:auto;                /* ! importante para que no se corte */
  object-fit:contain;         /* se ve completa */
  display:block;
  opacity:.98;
}

/* Botón de ampliar (lupa) */
.zoom-btn{
  position:absolute;
  right:10px;
  top:10px;
  width:36px; height:36px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.15);
  background:rgba(255,255,255,.08);
  color:#fff;
  display:grid; place-items:center;
  cursor:pointer;
  transition:filter .2s ease, transform .05s ease, box-shadow .2s ease;
  box-shadow:0 8px 16px rgba(0,0,0,.35);
}
.zoom-btn:hover{ filter:brightness(1.12); box-shadow:0 12px 22px rgba(250,108,6,.25) }
.zoom-btn:active{ transform:translateY(1px) }

/* === Overlay de ampliación (lightbox) === */
.lightbox{
  position:fixed; inset:0; z-index:9999;
  background:rgba(0,0,0,.85);
  display:flex; align-items:center; justify-content:center;
  opacity:0; pointer-events:none; transition:opacity .2s ease;
}
.lightbox.is-open{ opacity:1; pointer-events:auto; }

.lightbox__imgwrap{
  position:relative;
  max-width:92vw; max-height:86vh;
  overflow:hidden;             /* para hacer pan de la imagen con zoom */
  border:1px solid rgba(255,255,255,.14);
  border-radius:16px;
  background:#000;
  box-shadow:0 20px 60px rgba(0,0,0,.6);
}
.lightbox__img{
  transform-origin:center center;
  cursor:grab;
  display:block;
  user-select:none;
  -webkit-user-drag:none;
  max-width:none;             /* la escalamos con transform */
}

/* Controles del visor */
.lightbox__controls{
  position:absolute;
  right:10px; bottom:10px;
  display:flex; gap:8px;
}
.ctrl{
  width:38px; height:38px;
  border-radius:10px; border:1px solid rgba(255,255,255,.15);
  background:rgba(255,255,255,.12); color:#fff; font-weight:800;
  display:grid; place-items:center; cursor:pointer;
}
.ctrl:hover{ filter:brightness(1.15) }
.lightbox__close{
  position:absolute; top:10px; right:10px;
  width:38px; height:38px; border-radius:10px;
  border:1px solid rgba(255,255,255,.15);
  background:rgba(255,255,255,.12); color:#fff; cursor:pointer;
}

@keyframes glow{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(-6px,4px,0)}}

.meta{display:grid;gap:6px;margin:14px 0;color:#f6efe9}
.meta strong{color:#fff}

/* ===== Lista derecha ===== */
.list{
  height:360px;overflow:auto;border-radius:12px;border:1px solid var(--line);
  background:#0a0908;padding:12px;color:#fff
}
.list::-webkit-scrollbar{width:10px}
.list::-webkit-scrollbar-thumb{background:#3a2f2b;border-radius:8px}

/* ===== Pills de días ===== */
.days{display:flex;gap:12px;flex-wrap:wrap;margin-top:10px}
.day{
  background:var(--pill);color:#f3e8e4;border:1px solid var(--line);
  padding:10px 16px;border-radius:999px;font-weight:700;cursor:pointer;
  transition:filter .2s ease,transform .05s ease
}
.day:hover{filter:var(--pill-hover)}
.day:active{transform:translateY(1px)}
.day.active{
  background:linear-gradient(90deg,var(--g1),var(--g2),var(--g3));
  color:#fff;border-color:transparent;
  box-shadow:0 8px 26px rgba(250,108,6,.25)
}

/* ===== Modo Editar ===== */
.mb-12{margin-bottom:12px}
.stack-12{display:grid;gap:12px}

/* ===== Modo Editar ===== */
.form-row{
  /* antes: 1.4fr .7fr .7fr 1.2fr auto */
  /* ahora: nombre | peso | series | reps | img | eliminar */
  display:grid;
  grid-template-columns: 1.4fr .7fr .7fr .7fr 1.2fr auto;
  gap:12px;
  align-items:center;
  padding:12px;
  border:1px solid var(--line);
  border-radius:12px;
  background:#121010;
}

@media (max-width:1100px){
  /* antes: 1fr 1fr 1fr 1.2fr auto */
  .form-row{ grid-template-columns:1fr 1fr 1fr 1fr 1.2fr auto; }
}
@media (max-width:720px){
  .form-row{ grid-template-columns:1fr; gap:10px; }
}

.input{
  width:100%;padding:10px 12px;border-radius:10px;color:#fff;
  background:#1a1413;border:1px solid #3c2f2b;outline:none;
  transition:border-color .2s ease, box-shadow .2s ease
}
.input:focus{border-color:#FA6C06;box-shadow:0 0 0 3px rgba(250,108,6,.25)}

.btn{
  appearance:none;border:0;border-radius:999px;padding:10px 16px;font-weight:800;cursor:pointer
}
.btn-ghost{
  background:rgba(255,255,255,.07);color:#fff;border:1px solid var(--line)
}
.btn-primary{
  background:linear-gradient(90deg,var(--g1),var(--g2),var(--g3));color:#fff;
  box-shadow:0 12px 28px rgba(250,108,6,.28)
}
.btn-danger{background:#3b2f2b;color:#ffe2de;border:1px solid #4a3a35}

.actions{display:flex;gap:12px;margin-top:12px}

/* Preview derecha */
.preview{
  height: clamp(320px, 60vh, 420px); /* altura fija/fluida */
  background:#0a0908;
  border:1px solid var(--line);
  border-radius:12px;
  padding:14px;
  color:#fff;

  overflow:auto;                     /* scroll interno */
  -webkit-overflow-scrolling: touch; /* inercia en pantallas táctiles */
  overscroll-behavior: contain;      /* no arrastra la página */
  touch-action: pan-y;               /* gesto vertical en touch */
}

/* Scrollbar bonito (Chromium/Safari/Edge) */
.preview::-webkit-scrollbar{ width: 12px; }
.preview::-webkit-scrollbar-track{
  background: rgba(255,255,255,.06);
  border-radius: 8px;
}
.preview::-webkit-scrollbar-thumb{
  background: #3a2f2b;
  border-radius: 8px;
  border: 3px solid transparent;
  background-clip: padding-box;
}
.preview::-webkit-scrollbar-thumb:hover{ background:#4a3a35; }

/* Firefox */
@supports (scrollbar-color: auto) {
  .preview{
    scrollbar-width: thin;
    scrollbar-color: #3a2f2b rgba(255,255,255,.06);
  }
}


/* ===== Ola inferior (opcional si la tenés) ===== */
.wave{position:fixed;left:0;right:0;bottom:0;z-index:-1}
.wave svg{width:100%;height:180px;display:block}

/* ===== Animaciones de aparición ===== */
.fade-in{animation:fadeIn .6s ease both}
.fade-up{animation:fadeUp .7s ease both}
.delay-1{animation-delay:.08s}
.delay-2{animation-delay:.16s}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}

/* ===== Responsive ===== */
@media (max-width:1100px){
  .grid-2{grid-template-columns:1fr}
  .viewer,.list,.preview{height:320px}
  .form-row{grid-template-columns:1fr 1fr 1fr 1.2fr auto}
}
@media (max-width:720px){
  .form-row{grid-template-columns:1fr;gap:10px}
}

/* === EDITOR (izquierda): alto fijo + scroll interno solo en las filas === */

/* Fijamos la altura del card izquierdo en el modo editar */
#mode-edit .grid-2 > .card:first-child{
  height: clamp(360px, 66vh, 560px);   /* no crece más de 560px */
  display: flex;
  flex-direction: column;
  overflow: hidden;                    /* el overflow lo maneja el cuerpo interno */
}

/* La zona de filas (stack-12 / #form-rows) es la que scrollea */
#mode-edit .grid-2 > .card:first-child .stack-12,
#mode-edit .grid-2 > .card:first-child #form-rows{
  flex: 1;                             /* ocupa el alto disponible */
  overflow: auto;                      /* barra propia */
  -webkit-overflow-scrolling: touch;   /* inercia en táctiles */
  overscroll-behavior: contain;        /* no arrastra la página */
  padding-right: 6px;                  /* para que no tape el scroll */
  margin-bottom: 8px;
}

/* Scrollbar estético para Chromium/Safari/Edge */
#mode-edit .grid-2 > .card:first-child .stack-12::-webkit-scrollbar,
#mode-edit .grid-2 > .card:first-child #form-rows::-webkit-scrollbar{
  width: 12px;
}
#mode-edit .grid-2 > .card:first-child .stack-12::-webkit-scrollbar-track,
#mode-edit .grid-2 > .card:first-child #form-rows::-webkit-scrollbar-track{
  background: rgba(255,255,255,.06);
  border-radius: 8px;
}
#mode-edit .grid-2 > .card:first-child .stack-12::-webkit-scrollbar-thumb,
#mode-edit .grid-2 > .card:first-child #form-rows::-webkit-scrollbar-thumb{
  background: #3a2f2b;
  border-radius: 8px;
  border: 3px solid transparent;
  background-clip: padding-box;
}
#mode-edit .grid-2 > .card:first-child .stack-12::-webkit-scrollbar-thumb:hover,
#mode-edit .grid-2 > .card:first-child #form-rows::-webkit-scrollbar-thumb:hover{
  background:#4a3a35;
}

/* Firefox */
@supports (scrollbar-color: auto){
  #mode-edit .grid-2 > .card:first-child .stack-12,
  #mode-edit .grid-2 > .card:first-child #form-rows{
    scrollbar-width: thin;
    scrollbar-color: #3a2f2b rgba(255,255,255,.06);
  }
}

/* Las acciones quedan siempre visibles (pegadas abajo) */
#mode-edit .grid-2 > .card:first-child .actions{
  position: sticky;
  bottom: 0;
  z-index: 1;
  background:
    linear-gradient(180deg, rgba(15,15,16,0) 0%,
                           rgba(15,15,16,.85) 40%,
                           rgba(15,15,16,1) 100%);
  padding-top: 10px;
}
